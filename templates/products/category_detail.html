{% extends 'base.html' %}
{% load static %}

{% block title %}{{ category.name }}{% endblock %}

{% block content %}
<section class="hero hero-small">
    <div class="container hero-content">
        <h1 class="hero-title">{{ category.name }}</h1>
        {% if category.description %}<p class="hero-subtitle">{{ category.description }}</p>{% endif %}
    </div>
</section>

<section class="catalog-section">
    <div class="container">
        <div class="products-grid">
            {% for product in products %}
            <article class="product-card">
                <a href="{{ product.get_absolute_url }}" class="product-card-link">
                    {% if product.image %}
                    <img src="{{ product.image.url }}" alt="{{ product.name }}" class="product-card-image">
                    {% else %}
                    <div class="product-card-image product-card-image-placeholder"><i class="fas fa-image"></i></div>
                    {% endif %}
                    <h3 class="product-card-title">{{ product.name }}</h3>
                    <p class="product-card-price">{{ product.price }} руб.</p>
                </a>
                <button type="button" class="btn btn-add add-to-cart" data-product-id="{{ product.id }}">В корзину</button>
                <a href="{{ product.get_absolute_url }}" class="btn btn-outline">Подробнее</a>
            </article>
            {% empty %}
            <p class="catalog-empty">В этой категории пока нет товаров</p>
            {% endfor %}
        </div>
    </div>
</section>
{% endblock %}
